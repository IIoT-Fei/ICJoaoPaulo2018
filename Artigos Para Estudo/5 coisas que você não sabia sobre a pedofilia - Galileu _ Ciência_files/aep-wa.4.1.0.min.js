!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(a){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(){function e(a,b){return a.set(b[0],b[1]),a}function f(a,b){return a.add(b),a}function g(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function h(a,b,c,d){for(var e=-1,f=a?a.length:0;++e<f;){var g=a[e];b(d,g,c(g),a)}return d}function i(a,b){for(var c=-1,d=a?a.length:0;++c<d&&!1!==b(a[c],c,a););return a}function j(a,b){for(var c=-1,d=a?a.length:0;++c<d;)if(!b(a[c],c,a))return!1;return!0}function k(a,b){for(var c=-1,d=a?a.length:0,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function l(a,b){var c;if(c=!(!a||!a.length)){a:if(b!==b)b:{c=a.length;for(var d=-1;++d<c;){var e=a[d];if(e!==e){c=d;break b}}c=-1}else{for(c=-1,d=a.length;++c<d;)if(a[c]===b)break a;c=-1}c=c>-1}return c}function m(a,b,c){for(var d=-1,e=a?a.length:0;++d<e;)if(c(b,a[d]))return!0;return!1}function n(a,b){for(var c=-1,d=a?a.length:0,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function o(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function p(a,b,c,d){var e=-1,f=a?a.length:0;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function q(a,b){for(var c=-1,d=a?a.length:0;++c<d;)if(b(a[c],c,a))return!0;return!1}function r(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function s(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].c;return a}function t(a){return function(b){return a(b)}}function u(a,b){return n(b,function(b){return a[b]})}function v(a,b){return a.has(b)}function w(a){return a&&a.Object===Object?a:null}function x(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(c){}return b}function y(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function z(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c];g!==b&&"__lodash_placeholder__"!==g||(a[c]="__lodash_placeholder__",f[e++]=c)}return f}function A(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function B(a){if(qb(a)&&!id(a)&&!(a instanceof E)){if(a instanceof D)return a;if(oc.call(a,"__wrapped__"))return Xa(a)}return new D(a)}function C(){}function D(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=Kb}function E(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function F(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function G(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function H(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function I(a){var b=-1,c=a?a.length:0;for(this.__data__=new H;++b<c;)this.add(a[b])}function J(a){this.__data__=new G(a)}function K(a,b,c){var d=a[b];oc.call(a,b)&&jb(d,c)&&(c!==Kb||b in a)||(a[b]=c)}function L(a,b){for(var c=a.length;c--;)if(jb(a[c][0],b))return c;return-1}function M(a,b,c,d){return Vc(a,function(a,e,f){b(d,a,c(a),f)}),d}function N(a,b){return a&&ua(b,Bb(b),a)}function O(a,b,c,d,e,f,g){var h;if(d&&(h=f?d(a,e,f,g):d(a)),h!==Kb)return h;if(!pb(a))return a;if(e=id(a)){if(h=Ma(a),!b)return ta(a,h)}else{var j=La(a),k="[object Function]"==j||"[object GeneratorFunction]"==j;if(jd(a))return pa(a,b);if("[object Object]"==j||"[object Arguments]"==j||k&&!f){if(x(a))return f?a:{};if(h=Na(k?{}:a),!b)return va(a,N(h,a))}else{if(!bc[j])return f?a:{};h=Oa(a,j,O,b)}}if(g||(g=new J),f=g.get(a))return f;if(g.set(a,h),!e)var l=c?Y(a,Bb,Ka):Bb(a);return i(l||a,function(e,f){l&&(f=e,e=a[f]),K(h,f,O(e,b,c,d,f,a,g))}),h}function P(a){return pb(a)?wc(a):{}}function Q(a,b,c){if("function"!=typeof a)throw new TypeError("Expected a function");return setTimeout(function(){a.apply(Kb,c)},b)}function R(a,b){var c=!0;return Vc(a,function(a,d,e){return c=!!b(a,d,e)}),c}function S(a,b,c){for(var d=-1,e=a.length;++d<e;){var f=a[d],g=b(f);if(null!=g&&(h===Kb?g===g&&!sb(g):c(g,h)))var h=g,i=f}return i}function T(a,b){var c=[];return Vc(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function U(a,b,c,d,e){var f=-1,g=a.length;for(c||(c=Pa),e||(e=[]);++f<g;){var h=a[f];b>0&&c(h)?b>1?U(h,b-1,c,d,e):o(e,h):d||(e[e.length]=h)}return e}function V(a,b){return a&&Wc(a,b,Bb)}function W(a,b){return k(b,function(b){return nb(a[b])})}function X(a,b){b=Sa(b,a)?[b]:oa(b);for(var c=0,d=b.length;null!=a&&d>c;)a=a[Va(b[c++])];return c&&c==d?a:Kb}function Y(a,b,c){return b=b(a),id(a)?b:o(b,c(a))}function Z(a,b){return a>b}function $(a,b){return null!=a&&(oc.call(a,b)||"object"==("undefined"==typeof a?"undefined":d(a))&&b in a&&null===zc(Object(a)))}function _(a,b,c,d,e){if(a===b)b=!0;else if(null==a||null==b||!pb(a)&&!qb(b))b=a!==a&&b!==b;else a:{var f=id(a),g=id(b),h="[object Array]",i="[object Array]";f||(h=La(a),h="[object Arguments]"==h?"[object Object]":h),g||(i=La(b),i="[object Arguments]"==i?"[object Object]":i);var j="[object Object]"==h&&!x(a),g="[object Object]"==i&&!x(b);if((i=h==i)&&!j)e||(e=new J),b=f||tb(a)?Da(a,b,_,c,d,e):Ea(a,b,h,_,c,d,e);else{if(!(2&d)&&(f=j&&oc.call(a,"__wrapped__"),h=g&&oc.call(b,"__wrapped__"),f||h)){a=f?a.value():a,b=h?b.value():b,e||(e=new J),b=_(a,b,c,d,e);break a}if(i)b:if(e||(e=new J),f=2&d,h=Bb(a),g=h.length,i=Bb(b).length,g==i||f){for(j=g;j--;){var k=h[j];if(!(f?k in b:$(b,k))){b=!1;break b}}if(i=e.get(a))b=i==b;else{i=!0,e.set(a,b);for(var l=f;++j<g;){var k=h[j],m=a[k],n=b[k];if(c)var o=f?c(n,m,k,b,a,e):c(m,n,k,a,b,e);if(o===Kb?m!==n&&!_(m,n,c,d,e):!o){i=!1;break}l||(l="constructor"==k)}i&&!l&&(c=a.constructor,d=b.constructor,c!=d&&"constructor"in a&&"constructor"in b&&!("function"==typeof c&&c instanceof c&&"function"==typeof d&&d instanceof d)&&(i=!1)),e["delete"](a),b=i}}else b=!1;else b=!1}}return b}function aa(a,b){var c=b.length,d=c;if(null==a)return!d;for(a=Object(a);c--;){var e=b[c];if(e[2]?e[1]!==a[e[0]]:!(e[0]in a))return!1}for(;++c<d;){var e=b[c],f=e[0],g=a[f],h=e[1];if(e[2]){if(g===Kb&&!(f in a))return!1}else if(e=new J,void 0===Kb?!_(h,g,void 0,3,e):1)return!1}return!0}function ba(a){return"function"==typeof a?a:null==a?Db:"object"==("undefined"==typeof a?"undefined":d(a))?id(a)?fa(a[0],a[1]):ea(a):Hb(a)}function ca(a,b){return b>a}function da(a,b){var c=-1,d=lb(a)?Array(a.length):[];return Vc(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function ea(a){var b=Ia(a);return 1==b.length&&b[0][2]?Ua(b[0][0],b[0][1]):function(c){return c===a||aa(c,b)}}function fa(a,b){return Sa(a)&&b===b&&!pb(b)?Ua(Va(a),b):function(c){var d=zb(c,a);return d===Kb&&d===b?Ab(c,a):_(b,d,Kb,3)}}function ga(a,b,c){var d=-1;return b=n(b.length?b:[Db],t(Ga())),a=da(a,function(a){return{a:n(b,function(b){return b(a)}),b:++d,c:a}}),s(a,function(a,b){var d;a:{d=-1;for(var e=a.a,f=b.a,g=e.length,h=c.length;++d<g;){var i;b:{i=e[d];var j=f[d];if(i!==j){var k=i!==Kb,l=null===i,m=i===i,n=sb(i),o=j!==Kb,p=null===j,q=j===j,r=sb(j);if(!p&&!r&&!n&&i>j||n&&o&&q&&!p&&!r||l&&o&&q||!k&&q||!m){i=1;break b}if(!l&&!n&&!r&&j>i||r&&k&&m&&!l&&!n||p&&k&&m||!o&&m||!q){i=-1;break b}}i=0}if(i){d=d>=h?i:i*("desc"==c[d]?-1:1);break a}}d=a.b-b.b}return d})}function ha(a){return function(b){return null==b?Kb:b[a]}}function ia(a){return function(b){return X(b,a)}}function ja(a,b,c){var d=-1,e=a.length;for(0>b&&(b=-b>e?0:e+b),c=c>e?e:c,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0,c=Array(e);++d<e;)c[d]=a[d+b];return c}function ka(a,b){var c;return Vc(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function la(a,b,c){var d=-1,e=l,f=a.length,g=!0,h=[],i=h;if(c)g=!1,e=m;else if(f>=200){if(e=b?null:Yc(a))return A(e);g=!1,e=v,i=new I}else i=b?[]:h;a:for(;++d<f;){var j=a[d],k=b?b(j):j,j=c||0!==j?j:0;if(g&&k===k){for(var n=i.length;n--;)if(i[n]===k)continue a;b&&i.push(k),h.push(j)}else e(i,k,c)||(i!==h&&i.push(k),h.push(j))}return h}function ma(a,b){var c=a;return c instanceof E&&(c=c.value()),p(b,function(a,b){return b.func.apply(b.thisArg,o([a],b.args))},c)}function na(a){return mb(a)?a:[]}function oa(a){return id(a)?a:ad(a)}function pa(a,b){if(b)return a.slice();var c=new a.constructor(a.length);return a.copy(c),c}function qa(a){var b=new a.constructor(a.byteLength);return new tc(b).set(new tc(a)),b}function ra(a,b,c,d){var e=-1,f=a.length,g=c.length,h=-1,i=b.length,j=Bc(f-g,0),k=Array(i+j);for(d=!d;++h<i;)k[h]=b[h];for(;++e<g;)(d||f>e)&&(k[c[e]]=a[e]);for(;j--;)k[h++]=a[e++];return k}function sa(a,b,c,d){var e=-1,f=a.length,g=-1,h=c.length,i=-1,j=b.length,k=Bc(f-h,0),l=Array(k+j);for(d=!d;++e<k;)l[e]=a[e];for(k=e;++i<j;)l[k+i]=b[i];for(;++g<h;)(d||f>e)&&(l[k+c[g]]=a[e++]);return l}function ta(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}function ua(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];K(c,f,a[f])}return c}function va(a,b){return ua(a,Ka(a),b)}function wa(a){return function(b,c){return(id(b)?h:M)(b,a,Ga(c),{})}}function xa(a,b,c){function d(){return(this&&this!==ic&&this instanceof d?f:a).apply(e?c:this,arguments)}var e=1&b,f=ya(a);return d}function ya(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=P(a.prototype),b=a.apply(c,b);return pb(b)?b:c}}function za(a,b,c){function d(){for(var f=arguments.length,h=Array(f),i=f,j=Fa(d);i--;)h[i]=arguments[i];return i=3>f&&h[0]!==j&&h[f-1]!==j?[]:z(h,j),f-=i.length,c>f?Ca(a,b,Aa,d.placeholder,Kb,h,i,Kb,Kb,c-f):g(this&&this!==ic&&this instanceof d?e:a,this,h)}var e=ya(a);return d}function Aa(a,b,c,d,e,f,g,h,i,j){function k(){for(var r=arguments.length,s=Array(r),t=r;t--;)s[t]=arguments[t];if(o){var u,v=Fa(k),t=s.length;for(u=0;t--;)s[t]===v&&u++}if(d&&(s=ra(s,d,e,o)),f&&(s=sa(s,f,g,o)),r-=u,o&&j>r)return v=z(s,v),Ca(a,b,Aa,k.placeholder,c,s,v,h,i,j-r);if(v=m?c:this,t=n?v[a]:a,r=s.length,h){u=s.length;for(var w=Cc(h.length,u),x=ta(s);w--;){var y=h[w];s[w]=Qa(y,u)?x[y]:Kb}}else p&&r>1&&s.reverse();return l&&r>i&&(s.length=i),this&&this!==ic&&this instanceof k&&(t=q||ya(t)),t.apply(v,s)}var l=128&b,m=1&b,n=2&b,o=24&b,p=512&b,q=n?Kb:ya(a);return k}function Ba(a,b,c,d){function e(){for(var b=-1,i=arguments.length,j=-1,k=d.length,l=Array(k+i),m=this&&this!==ic&&this instanceof e?h:a;++j<k;)l[j]=d[j];for(;i--;)l[j++]=arguments[++b];return g(m,f?c:this,l)}var f=1&b,h=ya(a);return e}function Ca(a,b,c,d,e,f,g,h,i,j){var k=8&b,l=k?g:Kb;g=k?Kb:g;var m=k?f:Kb;f=k?Kb:f,b=(b|(k?32:64))&~(k?64:32),4&b||(b&=-4),b=[a,b,e,m,l,f,g,h,i,j],c=c.apply(Kb,b);a:for(e=a.name+"",h=Mc[e],i=oc.call(Mc,e)?h.length:0;i--;)if(j=h[i],k=j.func,null==k||k==a){e=j.name;break a}return h=B[e],"function"==typeof h&&e in E.prototype?a===h?a=!0:(e=Zc(h),a=!!e&&a===e[0]):a=!1,a&&_c(c,b),c.placeholder=d,c}function Da(a,b,c,d,e,f){var g=2&e,h=a.length,i=b.length;if(h!=i&&!(g&&i>h))return!1;if(i=f.get(a))return i==b;var i=-1,j=!0,k=1&e?new I:Kb;for(f.set(a,b);++i<h;){var l=a[i],m=b[i];if(d)var n=g?d(m,l,i,b,a,f):d(l,m,i,a,b,f);if(n!==Kb){if(n)continue;j=!1;break}if(k){if(!q(b,function(a,b){return k.has(b)||l!==a&&!c(l,a,d,e,f)?void 0:k.add(b)})){j=!1;break}}else if(l!==m&&!c(l,m,d,e,f)){j=!1;break}}return f["delete"](a),j}function Ea(a,b,c,d,e,f,g){switch(c){case"[object DataView]":if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)break;a=a.buffer,b=b.buffer;case"[object ArrayBuffer]":if(a.byteLength!=b.byteLength||!d(new tc(a),new tc(b)))break;return!0;case"[object Boolean]":case"[object Date]":return+a==+b;case"[object Error]":return a.name==b.name&&a.message==b.message;case"[object Number]":return a!=+a?b!=+b:a==+b;case"[object RegExp]":case"[object String]":return a==b+"";case"[object Map]":var h=y;case"[object Set]":if(h||(h=A),a.size!=b.size&&!(2&f))break;return(c=g.get(a))?c==b:(f|=1,g.set(a,b),Da(h(a),h(b),d,e,f,g));case"[object Symbol]":if(Tc)return Tc.call(a)==Tc.call(b)}return!1}function Fa(a){return(oc.call(B,"placeholder")?B:a).placeholder}function Ga(){var a=B.iteratee||Eb,a=a===Eb?ba:a;return arguments.length?a(arguments[0],arguments[1]):a}function Ha(a,b){var c=a.__data__,e="undefined"==typeof b?"undefined":d(b);return("string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==b:null===b)?c["string"==typeof b?"string":"hash"]:c.map}function Ia(a){for(var b=Bb(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,e===e&&!pb(e)]}return b}function Ja(a,b){var c=null==a?Kb:a[b];return(!pb(c)||mc&&mc in c?0:(nb(c)||x(c)?qc:Vb).test(Wa(c)))?c:Kb}function Ka(a){return uc(Object(a))}function La(a){return pc.call(a)}function Ma(a){var b=a.length,c=a.constructor(b);return b&&"string"==typeof a[0]&&oc.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Na(a){return"function"!=typeof a.constructor||Ta(a)?{}:P(zc(Object(a)))}function Oa(a,b,c,d){var g=a.constructor;switch(b){case"[object ArrayBuffer]":return qa(a);case"[object Boolean]":case"[object Date]":return new g(+a);case"[object DataView]":return b=d?qa(a.buffer):a.buffer,new a.constructor(b,a.byteOffset,a.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return b=d?qa(a.buffer):a.buffer,new a.constructor(b,a.byteOffset,a.length);case"[object Map]":return b=d?c(y(a),!0):y(a),p(b,e,new a.constructor);case"[object Number]":case"[object String]":return new g(a);case"[object RegExp]":return b=new a.constructor(a.source,Sb.exec(a)),b.lastIndex=a.lastIndex,b;case"[object Set]":return b=d?c(A(a),!0):A(a),p(b,f,new a.constructor);case"[object Symbol]":return Tc?Object(Tc.call(a)):{}}}function Pa(a){return id(a)||kb(a)}function Qa(a,b){return b=null==b?9007199254740991:b,!!b&&("number"==typeof a||Xb.test(a))&&a>-1&&0==a%1&&b>a}function Ra(a,b,c){if(!pb(c))return!1;var e="undefined"==typeof b?"undefined":d(b);return("number"==e?lb(c)&&Qa(b,c.length):"string"==e&&b in c)?jb(c[b],a):!1}function Sa(a,b){if(id(a))return!1;var c="undefined"==typeof a?"undefined":d(a);return"number"==c||"symbol"==c||"boolean"==c||null==a||sb(a)?!0:Ob.test(a)||!Nb.test(a)||null!=b&&a in Object(b)}function Ta(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||kc)}function Ua(a,b){return function(c){return null==c?!1:c[a]===b&&(b!==Kb||a in Object(c))}}function Va(a){if("string"==typeof a||sb(a))return a;var b=a+"";return"0"==b&&1/a==-Lb?"-0":b}function Wa(a){if(null!=a){try{return nc.call(a)}catch(b){}return a+""}return""}function Xa(a){if(a instanceof E)return a.clone();var b=new D(a.__wrapped__,a.__chain__);return b.__actions__=ta(a.__actions__),b.__index__=a.__index__,b.__values__=a.__values__,b}function Ya(a,b,c){var d=a?a.length:0;if(!d)return-1;c=null==c?0:wb(c),0>c&&(c=Bc(d+c,0));a:{for(b=Ga(b,3),d=a.length,c+=-1;++c<d;)if(b(a[c],c,a)){a=c;break a}a=-1}return a}function Za(a){return a&&a.length?a[0]:Kb}function $a(a){var b=a?a.length:0;return b?a[b-1]:Kb}function _a(a){return a?Dc.call(a):a}function ab(a){return a=B(a),a.__chain__=!0,a}function bb(a,b){return b(a)}function cb(){return this}function db(a,b){return(id(a)?i:Vc)(a,Ga(b,3))}function eb(){return Date.now()}function fb(a,b){var c;if("function"!=typeof b)throw new TypeError("Expected a function");return a=wb(a),function(){return 0<--a&&(c=b.apply(this,arguments)),1>=a&&(b=Kb),c}}function gb(a,b,c){function d(b){var c=i,d=j;return i=j=Kb,o=b,l=a.apply(d,c)}function e(a){var c=a-n;return a-=o,n===Kb||c>=b||0>c||q&&a>=k}function f(){var a=eb();if(e(a))return g(a);var c,d=setTimeout;c=a-o,a=b-(a-n),c=q?Cc(a,k-c):a,m=d(f,c)}function g(a){return m=Kb,r&&i?d(a):(i=j=Kb,l)}function h(){var a=eb(),c=e(a);if(i=arguments,j=this,n=a,c){if(m===Kb)return o=a=n,m=setTimeout(f,b),p?d(a):l;if(q)return m=setTimeout(f,b),d(n)}return m===Kb&&(m=setTimeout(f,b)),l}var i,j,k,l,m,n,o=0,p=!1,q=!1,r=!0;if("function"!=typeof a)throw new TypeError("Expected a function");return b=xb(b)||0,pb(c)&&(p=!!c.leading,k=(q="maxWait"in c)?Bc(xb(c.maxWait)||0,b):k,r="trailing"in c?!!c.trailing:r),h.cancel=function(){o=0,i=n=j=m=Kb},h.flush=function(){return m===Kb?l:g(eb())},h}function hb(a,b){function c(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;return f.has(e)?f.get(e):(d=a.apply(this,d),c.cache=f.set(e,d),d)}if("function"!=typeof a||b&&"function"!=typeof b)throw new TypeError("Expected a function");return c.cache=new(hb.Cache||H),c}function ib(a,b){if("function"!=typeof a)throw new TypeError("Expected a function");return b=Bc(b===Kb?a.length-1:wb(b),0),function(){for(var c=arguments,d=-1,e=Bc(c.length-b,0),f=Array(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}for(e=Array(b+1),d=-1;++d<b;)e[d]=c[d];return e[b]=f,g(a,this,e)}}function jb(a,b){return a===b||a!==a&&b!==b}function kb(a){return mb(a)&&oc.call(a,"callee")&&(!xc.call(a,"callee")||"[object Arguments]"==pc.call(a))}function lb(a){return null!=a&&ob($c(a))&&!nb(a)}function mb(a){return qb(a)&&lb(a)}function nb(a){return a=pb(a)?pc.call(a):"","[object Function]"==a||"[object GeneratorFunction]"==a}function ob(a){return"number"==typeof a&&a>-1&&0==a%1&&9007199254740991>=a}function pb(a){var b="undefined"==typeof a?"undefined":d(a);return!!a&&("object"==b||"function"==b)}function qb(a){return!!a&&"object"==("undefined"==typeof a?"undefined":d(a))}function rb(a){return"string"==typeof a||!id(a)&&qb(a)&&"[object String]"==pc.call(a)}function sb(a){return"symbol"==("undefined"==typeof a?"undefined":d(a))||qb(a)&&"[object Symbol]"==pc.call(a)}function tb(a){return qb(a)&&ob(a.length)&&!!ac[pc.call(a)]}function ub(a){if(!a)return[];if(lb(a))return rb(a)?a.match($b):ta(a);if(vc&&a[vc]){a=a[vc]();for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}return b=La(a),("[object Map]"==b?y:"[object Set]"==b?A:Cb)(a)}function vb(a){return a?(a=xb(a),a===Lb||a===-Lb?1.7976931348623157e308*(0>a?-1:1):a===a?a:0):0===a?a:0}function wb(a){a=vb(a);var b=a%1;return a===a?b?a-b:a:0}function xb(a){if("number"==typeof a)return a;if(sb(a))return Mb;if(pb(a)&&(a=nb(a.valueOf)?a.valueOf():a,a=pb(a)?a+"":a),"string"!=typeof a)return 0===a?a:+a;a=a.replace(Qb,"");var b=Ub.test(a);return b||Wb.test(a)?cc(a.slice(2),b?2:8):Tb.test(a)?Mb:+a}function yb(a){if(null==a)a="";else if("string"!=typeof a)if(sb(a))a=Uc?Uc.call(a):"";else{var b=a+"";a="0"==b&&1/a==-Lb?"-0":b}return a}function zb(a,b,c){return a=null==a?Kb:X(a,b),a===Kb?c:a}function Ab(a,b){var c;if(c=null!=a){c=a;for(var d,e=b,e=Sa(e,c)?[e]:oa(e),f=-1,g=e.length;++f<g;){var h=Va(e[f]);if(!(d=null!=c&&null!=c&&h in Object(c)))break;c=c[h]}d?c=d:(g=c?c.length:0,c=!!g&&ob(g)&&Qa(h,g)&&(id(c)||rb(c)||kb(c)))}return c}function Bb(a){var b=Ta(a);if(!b&&!lb(a))return Ac(Object(a));var c,d=a?a.length:Kb;if(ob(d)&&(id(a)||rb(a)||kb(a))){c=String;for(var e=-1,f=Array(d);++e<d;)f[e]=c(e);d=f}else d=null;c=d,d=!!c,c=c||[];var g,e=c.length;for(g in a)!$(a,g)||d&&("length"==g||Qa(g,e))||b&&"constructor"==g||c.push(g);return c}function Cb(a){return a?u(a,Bb(a)):[]}function Db(a){return a}function Eb(a){return ba("function"==typeof a?a:O(a,!0))}function Fb(a,b,c){var d=Bb(b),e=W(b,d);null!=c||pb(b)&&(e.length||!d.length)||(c=b,b=a,a=this,e=W(b,Bb(b)));var f=!(pb(c)&&"chain"in c&&!c.chain),g=nb(a);return i(e,function(c){var d=b[c];a[c]=d,g&&(a.prototype[c]=function(){var b=this.__chain__;if(f||b){var c=a(this.__wrapped__);return(c.__actions__=ta(this.__actions__)).push({func:d,args:arguments,thisArg:a}),c.__chain__=b,c}return d.apply(a,o([this.value()],arguments))})}),a}function Gb(){}function Hb(a){return Sa(a)?ha(Va(a)):ia(a)}function Ib(){return[]}function Jb(){return!1}var Kb,Lb=1/0,Mb=NaN,Nb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ob=/^\w*$/,Pb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,Qb=/^\s+|\s+$/g,Rb=/\\(\\)?/g,Sb=/\w*$/,Tb=/^[-+]0x[0-9a-f]+$/i,Ub=/^0b[01]+$/i,Vb=/^\[object .+?Constructor\]$/,Wb=/^0o[0-7]+$/i,Xb=/^(?:0|[1-9]\d*)$/,Yb="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",Zb="(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]?|[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])",$b=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+Zb+Yb,"g"),_b=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),ac={};ac["[object Float32Array]"]=ac["[object Float64Array]"]=ac["[object Int8Array]"]=ac["[object Int16Array]"]=ac["[object Int32Array]"]=ac["[object Uint8Array]"]=ac["[object Uint8ClampedArray]"]=ac["[object Uint16Array]"]=ac["[object Uint32Array]"]=!0,ac["[object Arguments]"]=ac["[object Array]"]=ac["[object ArrayBuffer]"]=ac["[object Boolean]"]=ac["[object DataView]"]=ac["[object Date]"]=ac["[object Error]"]=ac["[object Function]"]=ac["[object Map]"]=ac["[object Number]"]=ac["[object Object]"]=ac["[object RegExp]"]=ac["[object Set]"]=ac["[object String]"]=ac["[object WeakMap]"]=!1;var bc={};bc["[object Arguments]"]=bc["[object Array]"]=bc["[object ArrayBuffer]"]=bc["[object DataView]"]=bc["[object Boolean]"]=bc["[object Date]"]=bc["[object Float32Array]"]=bc["[object Float64Array]"]=bc["[object Int8Array]"]=bc["[object Int16Array]"]=bc["[object Int32Array]"]=bc["[object Map]"]=bc["[object Number]"]=bc["[object Object]"]=bc["[object RegExp]"]=bc["[object Set]"]=bc["[object String]"]=bc["[object Symbol]"]=bc["[object Uint8Array]"]=bc["[object Uint8ClampedArray]"]=bc["[object Uint16Array]"]=bc["[object Uint32Array]"]=!0,bc["[object Error]"]=bc["[object Function]"]=bc["[object WeakMap]"]=!1;var cc=parseInt,dc="object"==("undefined"==typeof c?"undefined":d(c))&&c,ec=dc&&"object"==("undefined"==typeof b?"undefined":d(b))&&b,fc=ec&&ec.exports===dc,gc=w("object"==("undefined"==typeof self?"undefined":d(self))&&self),hc=w("object"==d(this)&&this),ic=w("object"==("undefined"==typeof a?"undefined":d(a))&&a)||gc||hc||Function("return this")(),jc=Array.prototype,kc=Object.prototype,lc=ic["__core-js_shared__"],mc=function(){var a=/[^.]+$/.exec(lc&&lc.keys&&lc.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),nc=Function.prototype.toString,oc=kc.hasOwnProperty,pc=kc.toString,qc=RegExp("^"+nc.call(oc).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rc=fc?ic.Buffer:Kb,sc=ic.Symbol,tc=ic.Uint8Array,uc=Object.getOwnPropertySymbols,vc="symbol"==d(vc=sc&&sc.iterator)?vc:Kb,wc=Object.create,xc=kc.propertyIsEnumerable,yc=jc.splice,zc=Object.getPrototypeOf,Ac=Object.keys,Bc=Math.max,Cc=Math.min,Dc=jc.reverse,Ec=Ja(ic,"DataView"),Fc=Ja(ic,"Map"),Gc=Ja(ic,"Promise"),Hc=Ja(ic,"Set"),Ic=Ja(ic,"WeakMap"),Jc=Ja(Object,"create"),Kc=Ic&&new Ic,Lc=!xc.call({valueOf:1},"valueOf"),Mc={},Nc=Wa(Ec),Oc=Wa(Fc),Pc=Wa(Gc),Qc=Wa(Hc),Rc=Wa(Ic),Sc=sc?sc.prototype:Kb,Tc=Sc?Sc.valueOf:Kb,Uc=Sc?Sc.toString:Kb;B.prototype=C.prototype,B.prototype.constructor=B,D.prototype=P(C.prototype),D.prototype.constructor=D,E.prototype=P(C.prototype),E.prototype.constructor=E,F.prototype.clear=function(){this.__data__=Jc?Jc(null):{}},F.prototype["delete"]=function(a){return this.has(a)&&delete this.__data__[a]},F.prototype.get=function(a){var b=this.__data__;return Jc?(a=b[a],"__lodash_hash_undefined__"===a?Kb:a):oc.call(b,a)?b[a]:Kb},F.prototype.has=function(a){var b=this.__data__;return Jc?b[a]!==Kb:oc.call(b,a)},F.prototype.set=function(a,b){return this.__data__[a]=Jc&&b===Kb?"__lodash_hash_undefined__":b,this},G.prototype.clear=function(){this.__data__=[]},G.prototype["delete"]=function(a){var b=this.__data__;return a=L(b,a),0>a?!1:(a==b.length-1?b.pop():yc.call(b,a,1),!0)},G.prototype.get=function(a){var b=this.__data__;return a=L(b,a),0>a?Kb:b[a][1]},G.prototype.has=function(a){return-1<L(this.__data__,a)},G.prototype.set=function(a,b){var c=this.__data__,d=L(c,a);return 0>d?c.push([a,b]):c[d][1]=b,this},H.prototype.clear=function(){this.__data__={hash:new F,map:new(Fc||G),string:new F}},H.prototype["delete"]=function(a){return Ha(this,a)["delete"](a)},H.prototype.get=function(a){return Ha(this,a).get(a)},H.prototype.has=function(a){return Ha(this,a).has(a)},H.prototype.set=function(a,b){return Ha(this,a).set(a,b),this},I.prototype.add=I.prototype.push=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this},I.prototype.has=function(a){return this.__data__.has(a)},J.prototype.clear=function(){this.__data__=new G},J.prototype["delete"]=function(a){return this.__data__["delete"](a)},J.prototype.get=function(a){return this.__data__.get(a)},J.prototype.has=function(a){return this.__data__.has(a)},J.prototype.set=function(a,b){var c=this.__data__;return c instanceof G&&200==c.__data__.length&&(c=this.__data__=new H(c.__data__)),c.set(a,b),this};var Vc=function(a,b){return function(c,d){if(null==c)return c;if(!lb(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=Object(c);(b?f--:++f<e)&&!1!==d(g[f],f,g););return c}}(V),Wc=function(a){return function(b,c,d){var e=-1,f=Object(b);d=d(b);for(var g=d.length;g--;){var h=d[a?g:++e];if(!1===c(f[h],h,f))break}return b}}(),Xc=Kc?function(a,b){return Kc.set(a,b),a}:Db,Yc=Hc&&1/A(new Hc([,-0]))[1]==Lb?function(a){return new Hc(a)}:Gb,Zc=Kc?function(a){return Kc.get(a)}:Gb,$c=ha("length");uc||(Ka=Ib),(Ec&&"[object DataView]"!=La(new Ec(new ArrayBuffer(1)))||Fc&&"[object Map]"!=La(new Fc)||Gc&&"[object Promise]"!=La(Gc.resolve())||Hc&&"[object Set]"!=La(new Hc)||Ic&&"[object WeakMap]"!=La(new Ic))&&(La=function(a){var b=pc.call(a);if(a=(a="[object Object]"==b?a.constructor:Kb)?Wa(a):Kb)switch(a){case Nc:return"[object DataView]";case Oc:return"[object Map]";case Pc:return"[object Promise]";case Qc:return"[object Set]";case Rc:return"[object WeakMap]"}return b});var _c=function(){var a=0,b=0;return function(c,d){var e=eb(),f=16-(e-b);if(b=e,f>0){if(150<=++a)return c}else a=0;return Xc(c,d)}}(),ad=hb(function(a){var b=[];return yb(a).replace(Pb,function(a,c,d,e){b.push(d?e.replace(Rb,"$1"):c||a)}),b}),bd=ib(function(a,b){var c;if(mb(a)){c=U(b,1,mb,!0);var d=-1,e=l,f=!0,g=a.length,h=[],i=c.length;if(g)a:for(c.length>=200&&(e=v,f=!1,c=new I(c));++d<g;){var j=a[d],k=j,j=0!==j?j:0;if(f&&k===k){for(var m=i;m--;)if(c[m]===k)continue a;h.push(j)}else e(c,k,void 0)||h.push(j)}c=h}else c=[];return c}),cd=ib(function(a){var b=$a(a),c=n(a,na);if(b===$a(c)?b=Kb:c.pop(),c.length&&c[0]===a[0]){a=Kb;for(var d=b?m:l,e=c[0].length,f=c.length,g=f,h=Array(f),i=1/0,j=[];g--;){var k=c[g];g&&a&&(k=n(k,t(a))),i=Cc(k.length,i),h[g]=!b&&(a||e>=120&&k.length>=120)?new I(g&&k):Kb}var k=c[0],o=-1,p=h[0];a:for(;++o<e&&i>j.length;){var q=k[o],r=a?a(q):q,q=b||0!==q?q:0;if(p?!v(p,r):!d(j,r,b)){for(g=f;--g;){var s=h[g];if(s?!v(s,r):!d(c[g],r,b))continue a}p&&p.push(r),j.push(q)}}c=j}else c=[];return c});ib(function(a){function b(b){for(var c=a,d=-1,e=null==b,f=c.length,g=Array(f);++d<f;)g[d]=e?Kb:zb(b,c[d]);return g}a=U(a,1);var c=a.length,d=c?a[0]:0,e=this.__wrapped__;return!(c>1||this.__actions__.length)&&e instanceof E&&Qa(d)?(e=e.slice(d,+d+(c?1:0)),e.__actions__.push({func:bb,args:[b],thisArg:Kb}),new D(e,this.__chain__).thru(function(a){return c&&!a.length&&a.push(Kb),a})):this.thru(b)});var dd=wa(function(a,b,c){oc.call(a,c)?++a[c]:a[c]=1}),ed=function(a){return function(b,c,d){var e=Object(b);if(c=Ga(c,3),!lb(b))var f=Bb(b);return d=a(f||b,function(a,b){return f&&(b=a,a=e[b]),c(a,b,e)},d),d>-1?b[f?f[d]:d]:Kb}}(Ya),fd=wa(function(a,b,c){oc.call(a,c)?a[c].push(b):a[c]=[b]}),gd=ib(function(a,b,c){var d=1;if(c.length)var e=z(c,Fa(gd)),d=32|d;var f,g,h=b,i=c,j=e,e=2&d;if(!e&&"function"!=typeof a)throw new TypeError("Expected a function");if(c=i?i.length:0,c||(d&=-97,i=j=Kb),f=f===Kb?f:Bc(wb(f),0),g=g===Kb?g:wb(g),c-=j?j.length:0,64&d)var k=i,l=j,i=j=Kb;return b=e?Kb:Zc(a),f=[a,d,h,i,j,k,l,void 0,f,g],b&&(k=f[1],g=b[1],a=k|g,l=128==g&&8==k||128==g&&256==k&&b[8]>=f[7].length||384==g&&b[8]>=b[7].length&&8==k,131>a||l)&&(1&g&&(f[2]=b[2],a|=1&k?0:4),(k=b[3])&&(l=f[3],f[3]=l?ra(l,k,b[4]):k,f[4]=l?z(f[3],"__lodash_placeholder__"):b[4]),(k=b[5])&&(l=f[5],f[5]=l?sa(l,k,b[6]):k,f[6]=l?z(f[5],"__lodash_placeholder__"):b[6]),(k=b[7])&&(f[7]=k),128&g&&(f[8]=null==f[8]?b[8]:Cc(f[8],b[8])),null==f[9]&&(f[9]=b[9]),f[0]=b[0],f[1]=a),a=f[0],d=f[1],h=f[2],i=f[3],j=f[4],g=f[9]=null==f[9]?e?0:a.length:Bc(f[9]-c,0),!g&&24&d&&(d&=-25),(b?Xc:_c)(d&&1!=d?8==d||16==d?za(a,d,g):32!=d&&33!=d||j.length?Aa.apply(Kb,f):Ba(a,d,h,i):xa(a,d,h),f)}),hd=ib(function(a,b,c){return Q(a,xb(b)||0,c)});hb.Cache=H;var id=Array.isArray,jd=rc?function(a){return a instanceof rc}:Jb,kd=function(a){return ib(function(b,c){var d=-1,e=c.length,f=e>1?c[e-1]:Kb,g=e>2?c[2]:Kb,f=a.length>3&&"function"==typeof f?(e--,f):Kb;for(g&&Ra(c[0],c[1],g)&&(f=3>e?Kb:f,e=1),b=Object(b);++d<e;)(g=c[d])&&a(b,g,d,f);return b})}(function(a,b){if(Lc||Ta(b)||lb(b))ua(b,Bb(b),a);else for(var c in b)oc.call(b,c)&&K(a,c,b[c])});B.assign=kd,B.before=fb,B.bind=gd,B.chain=ab,B.countBy=dd,B.debounce=gb,B.delay=hd,B.difference=bd,B.drop=function(a,b,c){var d=a?a.length:0;return d?(b=c||b===Kb?1:wb(b),ja(a,0>b?0:b,d)):[]},B.filter=function(a,b){return(id(a)?k:T)(a,Ga(b,3))},B.flatten=function(a){return a&&a.length?U(a,1):[]},B.flattenDeep=function(a){return a&&a.length?U(a,Lb):[]},B.groupBy=fd,B.intersectionWith=cd,B.iteratee=Eb,B.keys=Bb,B.map=function(a,b){return(id(a)?n:da)(a,Ga(b,3))},B.memoize=hb,B.mixin=Fb,B.once=function(a){return fb(2,a)},B.orderBy=function(a,b,c,d){return null==a?[]:(id(b)||(b=null==b?[]:[b]),c=d?Kb:c,id(c)||(c=null==c?[]:[c]),ga(a,b,c))},B.property=Hb,B.remove=function(a,b){var c=[];if(!a||!a.length)return c;var d=-1,e=[],f=a.length;for(b=Ga(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}for(d=a?e.length:0,f=d-1;d--;)if(g=e[d],d==f||g!==h){var h=g;if(Qa(g))yc.call(a,g,1);else if(Sa(g,a))delete a[Va(g)];else{var g=oa(g),i=1==g.length?a:X(a,ja(g,0,-1));null!=i&&delete i[Va($a(g))]}}return c},B.rest=ib,B.reverse=_a,B.slice=function(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&Ra(a,b,c)?(b=0,c=d):(b=null==b?0:wb(b),c=c===Kb?d:wb(c)),ja(a,b,c)):[]},B.tap=function(a,b){return b(a),a},B.throttle=function(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new TypeError("Expected a function");return pb(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),gb(a,b,{leading:d,maxWait:b,trailing:e})},B.thru=bb,B.toArray=ub,B.uniq=function(a){return a&&a.length?la(a):[]},B.uniqWith=function(a,b){return a&&a.length?la(a,Kb,b):[]},B.values=Cb,Fb(B,B),B.eq=jb,B.every=function(a,b,c){var d=id(a)?j:R;return c&&Ra(a,b,c)&&(b=Kb),d(a,Ga(b,3))},B.find=ed,B.findIndex=Ya,B.forEach=db,B.get=zb,B.hasIn=Ab,B.head=Za,B.identity=Db,B.isArguments=kb,B.isArray=id,B.isArrayLike=lb,B.isArrayLikeObject=mb,B.isBuffer=jd,B.isEqual=function(a,b){return _(a,b)},B.isFunction=nb,B.isLength=ob,B.isNumber=function(a){return"number"==typeof a||qb(a)&&"[object Number]"==pc.call(a)},B.isObject=pb,B.isObjectLike=qb,B.isString=rb,B.isSymbol=sb,B.isTypedArray=tb,
B.last=$a,B.maxBy=function(a,b){return a&&a.length?S(a,Ga(b),Z):Kb},B.minBy=function(a,b){return a&&a.length?S(a,Ga(b),ca):Kb},B.stubArray=Ib,B.stubFalse=Jb,B.noop=Gb,B.now=eb,B.reduce=function(a,b,c){var d=id(a)?p:r,e=3>arguments.length;return d(a,Ga(b,4),c,e,Vc)},B.size=function(a){if(null==a)return 0;if(lb(a)){var b=a.length;if(b&&rb(a))if(a&&_b.test(a)){for(b=$b.lastIndex=0;$b.test(a);)b++;a=b}else a=a.length;else a=b;return a}return qb(a)&&(b=La(a),"[object Map]"==b||"[object Set]"==b)?a.size:Bb(a).length},B.some=function(a,b,c){var d=id(a)?q:ka;return c&&Ra(a,b,c)&&(b=Kb),d(a,Ga(b,3))},B.toFinite=vb,B.toInteger=wb,B.toNumber=xb,B.toString=yb,B.each=db,B.first=Za,Fb(B,function(){var a={};return V(B,function(b,c){oc.call(B.prototype,c)||(a[c]=b)}),a}(),{chain:!1}),B.VERSION="4.13.1",gd.placeholder=B,i(["drop","take"],function(a,b){E.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new E(this);c=c===Kb?1:Bc(wb(c),0);var e=this.clone();return d?e.__takeCount__=Cc(c,e.__takeCount__):e.__views__.push({size:Cc(c,4294967295),type:a+(0>e.__dir__?"Right":"")}),e},E.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),i(["filter","map","takeWhile"],function(a,b){var c=b+1,d=1==c||3==c;E.prototype[a]=function(a){var b=this.clone();return b.__iteratees__.push({iteratee:Ga(a,3),type:c}),b.__filtered__=b.__filtered__||d,b}}),i(["head","last"],function(a,b){var c="take"+(b?"Right":"");E.prototype[a]=function(){return this[c](1).value()[0]}}),i(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");E.prototype[a]=function(){return this.__filtered__?new E(this):this[c](1)}}),E.prototype.compact=function(){return this.filter(Db)},E.prototype.find=function(a){return this.filter(a).head()},E.prototype.findLast=function(a){return this.reverse().find(a)},E.prototype.invokeMap=ib(function(a,b){return"function"==typeof a?new E(this):this.map(function(c){var d=a;return Sa(d,c)||(d=oa(d),c=1==d.length?c:X(c,ja(d,0,-1)),d=$a(d)),d=null==c?c:c[Va(d)],null==d?Kb:g(d,c,b)})}),E.prototype.reject=function(a){return a=Ga(a,3),this.filter(function(b){return!a(b)})},E.prototype.slice=function(a,b){a=wb(a);var c=this;return c.__filtered__&&(a>0||0>b)?new E(c):(0>a?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==Kb&&(b=wb(b),c=0>b?c.dropRight(-b):c.take(b-a)),c)},E.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},E.prototype.toArray=function(){return this.take(4294967295)},V(E.prototype,function(a,b){var c=/^(?:filter|find|map|reject)|While$/.test(b),d=/^(?:head|last)$/.test(b),e=B[d?"take"+("last"==b?"Right":""):b],f=d||/^find/.test(b);e&&(B.prototype[b]=function(){function b(a){return a=e.apply(B,o([a],h)),d&&l?a[0]:a}var g=this.__wrapped__,h=d?[1]:arguments,i=g instanceof E,j=h[0],k=i||id(g);k&&c&&"function"==typeof j&&1!=j.length&&(i=k=!1);var l=this.__chain__,m=!!this.__actions__.length,j=f&&!l,i=i&&!m;return!f&&k?(g=i?g:new E(this),g=a.apply(g,h),g.__actions__.push({func:bb,args:[b],thisArg:Kb}),new D(g,l)):j&&i?a.apply(this,h):(g=this.thru(b),j?d?g.value()[0]:g.value():g)})}),i("pop push shift sort splice unshift".split(" "),function(a){var b=jc[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:pop|shift)$/.test(a);B.prototype[a]=function(){var a=arguments;if(d&&!this.__chain__){var e=this.value();return b.apply(id(e)?e:[],a)}return this[c](function(c){return b.apply(id(c)?c:[],a)})}}),V(E.prototype,function(a,b){var c=B[b];if(c){var d=c.name+"";(Mc[d]||(Mc[d]=[])).push({name:b,func:c})}}),Mc[Aa(Kb,2).name]=[{name:"wrapper",func:Kb}],E.prototype.clone=function(){var a=new E(this.__wrapped__);return a.__actions__=ta(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=ta(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=ta(this.__views__),a},E.prototype.reverse=function(){if(this.__filtered__){var a=new E(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a},E.prototype.value=function(){var a,b=this.__wrapped__.value(),c=this.__dir__,d=id(b),e=0>c,f=d?b.length:0;a=f;for(var g=this.__views__,h=0,i=-1,j=g.length;++i<j;){var k=g[i],l=k.size;switch(k.type){case"drop":h+=l;break;case"dropRight":a-=l;break;case"take":a=Cc(a,h+l);break;case"takeRight":h=Bc(h,a-l)}}if(a={start:h,end:a},g=a.start,h=a.end,a=h-g,e=e?h:g-1,g=this.__iteratees__,h=g.length,i=0,j=Cc(a,this.__takeCount__),!d||200>f||f==a&&j==a)return ma(b,this.__actions__);d=[];a:for(;a--&&j>i;){for(e+=c,f=-1,k=b[e];++f<h;){var m=g[f],l=m.type,m=(0,m.iteratee)(k);if(2==l)k=m;else if(!m){if(1==l)continue a;break a}}d[i++]=k}return d},B.prototype.chain=function(){return ab(this)},B.prototype.commit=function(){return new D(this.value(),this.__chain__)},B.prototype.next=function(){this.__values__===Kb&&(this.__values__=ub(this.value()));var a=this.__index__>=this.__values__.length,b=a?Kb:this.__values__[this.__index__++];return{done:a,value:b}},B.prototype.plant=function(a){for(var b,c=this;c instanceof C;){var d=Xa(c);d.__index__=0,d.__values__=Kb,b?e.__wrapped__=d:b=d;var e=d,c=c.__wrapped__}return e.__wrapped__=a,b},B.prototype.reverse=function(){var a=this.__wrapped__;return a instanceof E?(this.__actions__.length&&(a=new E(this)),a=a.reverse(),a.__actions__.push({func:bb,args:[_a],thisArg:Kb}),new D(a,this.__chain__)):this.thru(_a)},B.prototype.toJSON=B.prototype.valueOf=B.prototype.value=function(){return ma(this.__wrapped__,this.__actions__)},vc&&(B.prototype[vc]=cb),(gc||{})._=B,"function"==typeof define&&"object"==d(define.amd)&&define.amd?define(function(){return B}):ec?((ec.exports=B)._=B,dc._=B):ic._=B}).call(void 0)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(a,b,c){(function(a){"use strict";function c(){k=!0;for(var a,b,c=l.length;c;){for(b=l,l=[],a=-1;++a<c;)b[a]();c=l.length}k=!1}function d(a){1!==l.push(a)||k||e()}var e,f=a.MutationObserver||a.WebKitMutationObserver;if(f){var g=0,h=new f(c),i=a.document.createTextNode("");h.observe(i,{characterData:!0}),e=function(){i.data=g=++g%2}}else if(a.setImmediate||"undefined"==typeof a.MessageChannel)e="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var b=a.document.createElement("script");b.onreadystatechange=function(){c(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},a.document.documentElement.appendChild(b)}:function(){setTimeout(c,0)};else{var j=new a.MessageChannel;j.port1.onmessage=c,e=function(){j.port2.postMessage(0)}}var k,l=[];b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(a,b,c){"use strict";function d(){}function e(a){if("function"!=typeof a)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,a!==d&&i(this,a)}function f(a,b,c){this.promise=a,"function"==typeof b&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),"function"==typeof c&&(this.onRejected=c,this.callRejected=this.otherCallRejected)}function g(a,b,c){o(function(){var d;try{d=b(c)}catch(e){return p.reject(a,e)}d===a?p.reject(a,new TypeError("Cannot resolve promise with itself")):p.resolve(a,d)})}function h(a){var b=a&&a.then;return a&&"object"==typeof a&&"function"==typeof b?function(){b.apply(a,arguments)}:void 0}function i(a,b){function c(b){f||(f=!0,p.reject(a,b))}function d(b){f||(f=!0,p.resolve(a,b))}function e(){b(d,c)}var f=!1,g=j(e);"error"===g.status&&c(g.value)}function j(a,b){var c={};try{c.value=a(b),c.status="success"}catch(d){c.status="error",c.value=d}return c}function k(a){return a instanceof this?a:p.resolve(new this(d),a)}function l(a){var b=new this(d);return p.reject(b,a)}function m(a){function b(a,b){function d(a){g[b]=a,++h!==e||f||(f=!0,p.resolve(j,g))}c.resolve(a).then(d,function(a){f||(f=!0,p.reject(j,a))})}var c=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var e=a.length,f=!1;if(!e)return this.resolve([]);for(var g=new Array(e),h=0,i=-1,j=new this(d);++i<e;)b(a[i],i);return j}function n(a){function b(a){c.resolve(a).then(function(a){f||(f=!0,p.resolve(h,a))},function(a){f||(f=!0,p.reject(h,a))})}var c=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var e=a.length,f=!1;if(!e)return this.resolve([]);for(var g=-1,h=new this(d);++g<e;)b(a[g]);return h}var o=a("immediate"),p={},q=["REJECTED"],r=["FULFILLED"],s=["PENDING"];b.exports=e,e.prototype["catch"]=function(a){return this.then(null,a)},e.prototype.then=function(a,b){if("function"!=typeof a&&this.state===r||"function"!=typeof b&&this.state===q)return this;var c=new this.constructor(d);if(this.state!==s){var e=this.state===r?a:b;g(c,e,this.outcome)}else this.queue.push(new f(c,a,b));return c},f.prototype.callFulfilled=function(a){p.resolve(this.promise,a)},f.prototype.otherCallFulfilled=function(a){g(this.promise,this.onFulfilled,a)},f.prototype.callRejected=function(a){p.reject(this.promise,a)},f.prototype.otherCallRejected=function(a){g(this.promise,this.onRejected,a)},p.resolve=function(a,b){var c=j(h,b);if("error"===c.status)return p.reject(a,c.value);var d=c.value;if(d)i(a,d);else{a.state=r,a.outcome=b;for(var e=-1,f=a.queue.length;++e<f;)a.queue[e].callFulfilled(b)}return a},p.reject=function(a,b){a.state=q,a.outcome=b;for(var c=-1,d=a.queue.length;++c<d;)a.queue[c].callRejected(b);return a},e.resolve=k,e.reject=l,e.all=m,e.race=n},{immediate:2}],4:[function(a,b,c){"use strict";var d=a("./lodash"),e=a("./geometry"),f=a("./percent"),g=a("./page-text-nodes.js"),h=a("./node-type"),i=a("./rect-group"),j=a("./config"),k=a("./logger"),l=a("lie"),m=a("./dev-tool"),n=function(a){return d.chain(a).groupBy(i.getHash).values().map(function(a){return new i(a)}).value()},o=function(a){return d.chain(e.groupByOverlapping(a)).map(function(a){var b=e.getOuterRect(a);return a.sort(function(a,b){return a.node.compareDocumentPosition(b.node)&h.DOCUMENT_POSITION_FOLLOWING?-1:1}),b.node=d.last(a).node,b.innerRects=a,b}).value()},p=function(a){var b=d.chain(a).maxBy("width").get("width").value();return f.toAbs(j.minWidthPercent,b)},q=function(a,b){return d.chain(a).intersectionWith(b,function(a,b){var c=f.toAbs(90,d.minBy([a,b],"area").area);return e.getIntersection(a,b).area>c}).value()},r={getRects:function(){return new l(function(a){g.getRects().then(function(b){var c,e=o(b),f=n(b),g=d.maxBy(f,"weight");if(g.weight>=j.minWeight){c=g.children;var h=p(c);c=d.filter(c,function(a){return a.width>h})}else k.info("Article cannot be found. Max weight:",g.weight);a(q(e,c)),d.forEach(f,function(a){m("addRect",a)}),m("setZones",e),m("setMethod","selectZones",q),m("render")})})}};b.exports=r},{"./config":6,"./dev-tool":7,"./geometry":9,"./lodash":10,"./logger":11,"./node-type":12,"./page-text-nodes.js":13,"./percent":14,"./rect-group":16,lie:3}],5:[function(a,b,c){"use strict";var d=a("./lodash"),e=a("./config"),f={h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,header:0,footer:0,hgroup:0,nav:0,li:0,caption:0,td:0,tfoot:0,th:0,thead:0,form:0,textarea:0,marquee:0,dialog:0,progress:0,output:0,datalist:0},g={fromArea:function(a){return 1-1/Math.pow(1.00001,a)},fromWidth:function(a){var b=850;return Math.max(1-Math.abs(b-a.width)/900,0)},fromFontSize:function(a){return a>=14&&20>=a?1:a>=11&&23>=a?.4:0},fromFontColor:function(a){var b=d.chain(a.match(/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})/)).drop(1).reduce(function(a,b){return a+=parseInt(b)},0).value();return Math.max(1-b/450,0)},fromNodeName:function(a){var b=f[a];return d.isNumber(b)?b:"p"==a?1:.75},fromAlignment:function(a){var b=-250;return Math.max(1-Math.abs(a.right-a.left+b)/600,0)},fromTop:function(a){return Math.min(a.top/700,1)},fromBottom:function(a){return Math.min(a.bottom/8e3,1)}},h={area:4,width:1.2,fontSize:1,fontColor:.8,nodeName:2.2,alignment:.7,top:1.5,bottom:.9};d.assign(h,e.weightDistribution),b.exports={base:d.reduce(h,function(a,b){return a+=b},0),getWeights:function(a){return{area:g.fromArea(a.area)*h.area,width:g.fromWidth(a.containerRect)*h.width,fontSize:g.fromFontSize(a.fontSize)*h.fontSize,fontColor:g.fromFontColor(a.fontColor)*h.fontColor,nodeName:g.fromNodeName(a.elementName)*h.nodeName,alignment:g.fromAlignment(a.containerRect)*h.alignment,top:g.fromTop(a.containerRect)*h.top,bottom:g.fromBottom(a.containerRect)*h.bottom}}}},{"./config":6,"./lodash":10}],6:[function(a,b,c){"use strict";var d=a("./lodash"),e=aepwa.config,f=function(){var a=e.inline.slice||[];return d.isArray(a)||(a=d.map(a.replace(/\s/g,"").split(","),Number)),a};b.exports=d.assign({yReference:"65%",speedLessThan:500,speedDuringTime:250,minWidthPercent:50,slice:"",minWeight:.7,domLoadingTimeout:3e4,ignore:{script:!0,style:!0,header:!0,footer:!0,li:!0},minParagraph:0,weightDistribution:{}},e.inline,{width:e.width,height:e.height,slice:f()})},{"./lodash":10}],7:[function(a,b,c){"use strict";b.exports=function(a){var b=null;if("undefined"!=typeof DevTool){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;c>e;e++)d[e-1]=arguments[e];b=DevTool[a].apply(DevTool,d)}return b}},{}],8:[function(a,b,c){"use strict";var d=a("./node-type"),e=a("./platform"),f=a("lie"),g=a("./lodash"),h=a("./test-on-element"),i={createElement:function(a,b){var c=this.getDocument(b).createElement(a);return b.insertBefore(c,b.firstChild),c},getWindow:function(a){var b=this.getDocument(a);return b.parentWindow||b.defaultView},getDocument:function(a){return a.ownerDocument},getElementsByClass:function(a,b,c){var d=[];c=c||"*";for(var e=b.getElementsByTagName(c),f=e.length,g=new RegExp("(^|\\s)"+a+"(\\s|$)"),h=0,i=0;f>h;h++)g.test(e[h].className)&&(d[i]=e[h],i++);return d},getSize:function(a){return{width:a.offsetWidth,height:a.offsetHeight}},numericCss:{"line-height":function(a){var b=document.createElement(a.nodeName);b.style.fontSize=i.css(a,"font-size"),b.style.fontFamily=i.css(a,"font-family"),b.style.padding=0,b.style.margin=0,b.style.borderWidth=0,b.style.height="auto",b.style.clear="both",b.style.position="absolute",b.innerHTML="&nbsp;",a.parentNode.appendChild(b);var c=b.offsetHeight;return b.parentNode.removeChild(b),c},"font-size":function(a){var b,c=document.createRange();return h(function(d){d.style.font=i.css(a,"font"),d.style.lineHeight=0,d.innerHTML="x",c.selectNode(d),b=c.getBoundingClientRect().height}),b}},css:function(a,b,c){var d="",e=a.ownerDocument,f=/-([a-z])/gi,h=b.replace(f,function(a,b){return(b+"").toUpperCase()});if(a.currentStyle){var j=/^-?\d+(?:px)?$/i,k=/^-?\d/,l=a.style;if(d=a.currentStyle[b]||a.currentStyle[h],!j.test(d)&&k.test(d)){var m=l.left,n=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left,l.left="fontSize"===h?"1em":d||0,d=l.pixelLeft+"px",l.left=m,a.runtimeStyle.left=n}}else d=e.defaultView&&e.defaultView.getComputedStyle?e.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.style[h];if(c){var o=parseFloat(d);return g.isNumber(o)&&!isNaN(o)?o:i.numericCss[b]?i.numericCss[b](a):0}return d},loadCSS:function(a,b){b=b||top.document;var c=b.getElementsByTagName("head")[0],d=b.createElement("link");d.rel="stylesheet",d.type="text/css",d.href=a,d.media="all",c.appendChild(d)},loadJS:function(a,b){b=b||top.document;var c=b.getElementsByTagName("head")[0],d=b.createElement("script");d.async=!0,d.src=a,c.appendChild(d)},createIframe:function(a){var b=this.createElement("iframe",a.parentNode||document.body);return a.src&&(b.src=a.src),a.css&&i.addCSSClass(b,a.css),b},getAbsolutePosition:function(a){var b=this.getDocument(a).documentElement,c=this.getWindow(a),d=a.getBoundingClientRect();return{left:d.left+c.pageXOffset-b.clientLeft,top:d.top+c.pageYOffset-b.clientTop}},getAbsoluteRect:function(a){var b=a,c=i.getWindow(a),d=i.getDocument(a),e=d.documentElement,f=0;i.isTextNode(a)&&(b=d.createRange(),b.selectNode(a),f=i.getTextSpacing(a));var g=b.getBoundingClientRect();return{left:g.left+c.pageXOffset-e.clientLeft,top:g.top+c.pageYOffset-e.clientTop,width:g.width,height:g.height+f}},getCalculatedCSSSize:function(a){var b=i.css(a,"width"),c=i.css(a,"height"),d=b.replace(/\d+/,""),e=c.replace(/\d+/,""),f=parseInt(b,10),g=parseInt(c,10),h="%"==d||"%"==e?i.getViewportSize():null;return{width:"%"==d?f*h.width/100:f,height:"%"==e?g*h.height/100:g}},getImageSize:function(a){var b=new Image;return b.src=a,{width:b.width,height:b.height}},getViewportSize:function(a){var b={};return a=a||top,e.Mobile.isMobile()?(b.width=a.innerWidth,b.height=a.innerHeight):"undefined"!=typeof a.document.documentElement&&"undefined"!=typeof a.document.documentElement.clientWidth&&0!==a.document.documentElement.clientWidth&&"CSS1Compat"==a.document.compatMode?(b.width=a.document.documentElement.clientWidth,b.height=a.document.documentElement.clientHeight):(b.width=a.document.getElementsByTagName("body")[0].clientWidth,b.height=a.document.getElementsByTagName("body")[0].clientHeight),b},getDocumentSize:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:top,b=a.document;return{width:Math.max(b.documentElement.clientWidth,b.body.scrollWidth,b.documentElement.scrollWidth,b.body.offsetWidth,b.documentElement.offsetWidth),height:Math.max(b.documentElement.clientHeight,b.body.scrollHeight,b.documentElement.scrollHeight,b.body.offsetHeight,b.documentElement.offsetHeight)}},getScroll:function(a){a=a||window;var b=a.document,c=b.documentElement,d=b.body;return{left:Math.max(c.scrollLeft,d.scrollLeft,a?a.pageXOffset:0),top:Math.max(c.scrollTop,d.scrollTop,a?a.pageYOffset:0)}},addCSSClass:function(a,b){a.className.indexOf&&-1===a.className.indexOf(b)&&(a.className+=""==a.className?b:" "+b)},removeCSSClass:function(a,b){a.className.replace&&(a.className=a.className.replace(new RegExp(b,"g"),""))},containsCSSClass:function(a,b){return-1!==(a.className+"").indexOf(b)},nodeToString:function(a){return a.nodeName.toLowerCase()+(a.id?"#"+a.id:"")+(a.className?"."+a.className:"")},on:function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c,!0):a["on"+b]=c},off:function(a,b,c){a.dettachEvent?a.dettachEvent("on"+b,c):a.removeEventListener?a.removeEventListener(b,c,!0):a["on"+b]=null},elementFromPoint:function(){function a(){if(null!=b)return b;var a=window.pageXOffset?window.pageXOffset+window.innerWidth-1:0,c=window.pageYOffset?window.pageYOffset+window.innerHeight-1:0;return a||c?b=!document.elementFromPoint(a,c):!0}var b,c=function(b,c){return a()||(b+=window.pageXOffset,c+=window.pageYOffset),document.elementFromPoint(b,c)};return c}(),ready:function(a){return a=a||window,new f(function(b,c){var d=function(){return"interactive"==a.document.readyState||"complete"==a.document.readyState},e=function(){g.delay(b,10)};d()?e():(i.on(a.document,"readystatechange",function(){d()&&e()}),i.on(a.document,"DOMContentLoaded",e),i.on(a,"load",e),setTimeout(function(){c("DOM content loading timeout")},15e3))})},getElement:function(a){return a.nodeType==d.ELEMENT_NODE?a:a.parentNode},getTextSpacing:function(a){var b=i.getElement(a);return i.css(b,"line-height",!0)-i.css(b,"font-size",!0)},findAncestor:function(a,b){for(var c;a&&i.isElementNode(a);){if(b(a)){c=a;break}a=a.parentNode}return c},getTextNodes:function(a,b){for(var c,d=document.createTreeWalker(a,NodeFilter.SHOW_TEXT,b||null,!1),e=[];c=d.nextNode();)e.push(c);return e},getTextNodesFromAncestors:function(a,b,c){for(var d,e=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,b||null,!1),f=[];d=e.nextNode();)f=f.concat(i.getTextNodes(d,c));return g.uniq(f)},isVisible:function j(a,b){var c=i.getElement(a),j=function(a){return"hidden"!=i.css(a,"visibility")&&"none"!=i.css(a,"display")&&"0"!=i.css(a,"opacity")};return b?!!i.findAncestor(c,j):j(c)},isTextNode:function(a){return a.nodeType==d.TEXT_NODE},isElementNode:function(a){return a.nodeType==d.ELEMENT_NODE},isCroppingNode:function(a){var b=i.css(a,"overflow");return"hidden"==b||"scroll"==b}};b.exports=i},{"./lodash":10,"./node-type":12,"./platform":15,"./test-on-element":20,lie:3}],9:[function(a,b,c){"use strict";var d=a("./dom"),e=(a("./node-type"),a("./rect")),f=a("./utils"),g=a("./percent"),h=a("./lodash"),i={getRectFromNode:function(a){var b=new e(d.getAbsoluteRect(a));return b.node=a,b},getIntersection:function(a){for(var b={left:[],top:[],right:[],bottom:[]},c=0;c<arguments.length;c++)b.left.push(arguments[c].left),b.top.push(arguments[c].top),b.right.push(arguments[c].right),b.bottom.push(arguments[c].bottom);return new e({left:Math.max.apply(Math,b.left),top:Math.max.apply(Math,b.top),right:Math.min.apply(Math,b.right),bottom:Math.min.apply(Math,b.bottom)})},getVisibleRect:function(a){var b,c=i.getRectFromNode(a);if(!d.isVisible(a,!0))return new e;var f=d.findAncestor(a.parentNode,function(a){return d.isCroppingNode(a)});return f&&(b=i.getIntersection(c,i.getVisibleRect(f)),b.node=a),b||c},getOuterRect:function(a){return new e({left:h.minBy(a,"left").left,right:h.maxBy(a,"right").right,top:h.minBy(a,"top").top,bottom:h.maxBy(a,"bottom").bottom})},getTotalArea:function(a){return h.reduce(a,function(a,b){return a+b.area},0)},isHNear:function(a,b,c){return f.isNear(a.left,b.left,h.isNumber(c)?c:50)&&f.isNear(a.right,b.right,h.isNumber(c)?c:50)},isVNear:function(a,b,c){return f.isNear(a.top,b.top,h.isNumber(c)?c:50)&&f.isNear(a.bottom,b.bottom,h.isNumber(c)?c:50)},isNear:function(a,b,c){return this.isHNear(a,b,c)&&this.isVNear(a,b,c)},hContains:function(a,b){return b.left>=a.left&&b.right<=a.right},vContains:function(a,b){return b.top>=a.top&&b.bottom<=a.bottom},contains:function(a,b){return this.hContains(a,b)&&this.vContains(a,b)},equals:function(a,b){return a.left==b.left&&a.right==b.right&&a.top==b.top&&a.bottom==b.bottom},getViewportRect:function(){var a=d.getViewportSize(),b=d.getScroll();return new e({left:b.left,top:b.top,width:a.width,height:a.height})},getSideRects:function(a,b){return{left:new e({left:b.left,right:b.left+a.left,top:b.top,bottom:b.bottom}),right:new e({left:b.left+a.right,right:b.left+b.width,top:b.top,bottom:b.bottom})}},getEquidistantPoints:function(a,b,c){var d=[];b++,c++;for(var e=1;b>e;e++)for(var f=1;c>f;f++)d.push({x:a.left+a.width/b*e,y:a.top+a.height/c*f});return d},sizeIsGreaterThan:function(a,b){return a.width>b.width&&a.height>b.height},percentageFromViewport:function(a,b){var c=parseInt(a,10),d=i.getViewportRect();return/\d+%$/.test(a)?g.toAbs(c,d[b]):c},isOverlap:function(a,b){var c=i.getIntersection(a,b);return c.width>=0&&c.height>=0},groupByOverlapping:function(a){var b=[];return h.forEach(a,function(a){b.push(h.chain(b).remove(function(b,c){return h.some(b,function(b){return i.isOverlap(a,b)})}).flatten().push(a).value())}),b}};b.exports=i},{"./dom":8,"./lodash":10,"./node-type":12,"./percent":14,"./rect":17,"./utils":21}],10:[function(a,b,c){"use strict";var d=window._,e=a("../lib/lodash.custom.min.js"),f=e.forEach?e:window._;"undefined"!=typeof d&&(window._=d),f.mixin(f,{groupByPair:function(a){return f.reduce(a,function(b,c,d){var e=a[d+1];return e&&b.push([c,e]),b},[])}}),b.exports=f},{"../lib/lodash.custom.min.js":1}],11:[function(a,b,c){"use strict";var d=function(a,b){if(b=Array.prototype.slice.call(b),window.console&&window.console.log){try{var c="		"+(new Error).stack.split("\n")[3]}catch(d){}b.unshift("[AEP] [WA] "+a+" "),b.push(c),console.log.apply(console,b)}};b.exports={debug:function(){d.apply(this,["[DEBUG]",arguments])},info:function(){d.apply(this,["[INFO] ",arguments])},warn:function(){d.apply(this,["[WARN] ",arguments])},error:function(){d.apply(this,["[ERROR]",arguments])}}},{}],12:[function(a,b,c){"use strict";b.exports=document},{}],13:[function(a,b,c){"use strict";var d=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=a("./lodash"),f=a("./utils"),g=a("lie"),h=a("./dom"),i=a("./geometry"),j=a("./logger"),k=a("./config"),l=function(a){return!/^[^\x21-\x7E]*$/.test(a.nodeValue)},m=function(a){return!!k.ignore[a.tagName.toLowerCase()]},n=function(a,b,c){return(!e.isNumber(b)||a.offsetWidth>b)&&(!e.isNumber(c)||a.offsetHeight>c)},o=function(){return f.delay(function(a){a(h.getTextNodes(document.body,function(a){var b=h.getElement(a);return n(b,1,1)&&l(a)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}))})},p=function(){return f.delay(function(a){a(h.getTextNodesFromAncestors(document.body,function(a){return n(a,1,1)&&(m(a)||"fixed"==h.css(a,"position"))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP},function(a){return l(a)}))})},q=function(a,b){return f.delay(function(c){c(e.chain(a).difference(b).map(function(a){return i.getVisibleRect(a)}).filter(function(a){return a.area>0}).value())})};b.exports={getRects:function(){return new g(function(a){g.all([o(),p()]).then(function(b){var c=d(b,2),e=c[0],f=c[1];q(e,f).then(function(b){a(b)})})["catch"](function(a){j.error(a)})})}}},{"./config":6,"./dom":8,"./geometry":9,"./lodash":10,"./logger":11,"./utils":21,lie:3}],14:[function(a,b,c){"use strict";var d={fromAbs:function(a,b){return Math.round(100*a/b)},toAbs:function(a,b){return Math.round(a/100*b)}};b.exports=d},{}],15:[function(a,b,c){"use strict";var d={Mobile:{isAndroid:function(){return navigator.userAgent.match(/Android/i)},isIOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},isMobile:function(){return this.isAndroid()||this.isIOS()}}};b.exports=d},{}],16:[function(a,b,c){"use strict";var d=a("./lodash"),e=a("./classifier"),f=a("./dom"),g=a("./geometry"),h=function i(a){var b=d.head(a),c=b.node.parentNode,h=c.getBoundingClientRect(),j=g.getOuterRect(a);this.children=a,this.hash=i.getHash(b),this.area=g.getTotalArea(a),this.fontSize=parseInt(f.css(c,"font-size")),this.fontColor=f.css(c,"color"),this.elementName=c.nodeName.toLowerCase(),this.containerRect={left:h.left,top:j.top,right:g.getViewportRect().right-h.right,bottom:f.getDocumentSize().height-j.bottom,width:h.width,height:j.height},this.weightComponents=e.getWeights(this),this.weight=d.reduce(this.weightComponents,function(a,b){return a+=b},0)/e.base};h.getHash=function(a){var b=a.node.parentNode,c=f.findAncestor(b,function(a){return"block"==f.css(a,"display")});return b.nodeName.toLowerCase()+";"+b.getBoundingClientRect().left+";"+(c?c.offsetWidth:"x")+";"+f.css(b,"color")+";"+f.css(b,"font-size")},b.exports=h},{"./classifier":5,"./dom":8,"./geometry":9,"./lodash":10}],17:[function(a,b,c){"use strict";var d=(a("./utils"),a("./lodash")),e=function(a){a=a||{},this.left=d.isNumber(a.left)?a.left:d.isNumber(a.right)?a.right-a.width:0,this.top=d.isNumber(a.top)?a.top:d.isNumber(a.bottom)?a.bottom-a.height:0,this.right=d.isNumber(a.right)?a.right:d.isNumber(a.width)?(a.left||0)+a.width:0,this.bottom=d.isNumber(a.bottom)?a.bottom:d.isNumber(a.height)?(a.top||0)+a.height:0,this.width=this.right-this.left,this.height=this.bottom-this.top,this.area=Math.max(this.width,0)*Math.max(this.height,0)};b.exports=e},{"./lodash":10,"./utils":21}],18:[function(a,b,c){"use strict";var d=a("./lodash"),e=a("./dom"),f=function(a,b){var c,f,g,h,i,j,k,l=function(){},m=function(){},n=function(){},b=a.win||window,o=[],p=[],q=function(){var a=e.getScroll(b);f=d.now(),g=a.left,h=a.top},r=function(b,c){return o.push(b),p.push(c),o.splice(0,o.length-a.smoothing),p.splice(0,p.length-a.smoothing),{x:Math.floor(d.reduce(o,function(a,b){return a+b},0)/o.length),y:Math.floor(d.reduce(p,function(a,b){return a+b},0)/p.length)}},s=function(){var a=e.getScroll(b),i=1e3/(d.now()-f),j=Math.floor(Math.abs(a.left-g)*i),k=Math.floor(Math.abs(a.top-h)*i),l=r(j,k);c(l),n(l),q()},c=function(b){j=j||setTimeout(function(){l(),j=null},a.duringTime),b.y>a.lessThan&&(clearTimeout(j),j=null)},t=function(){u(),v()},u=d.debounce(function(){m("begin"),clearTimeout(i),clearInterval(k),k=setInterval(s,a.updateInterval)},a.updateInterval,{leading:!0,trailing:!1}),v=d.debounce(function(){m("end"),i=setTimeout(function(){clearInterval(k)},a.updateInterval*a.smoothing)},a.updateInterval,{leading:!1,trailing:!0});this.onSpeedChange=function(a){n=a},this.onStatusChange=function(a){m=a},this.onLowerThreshold=function(a){l=a},this.start=function(){q(),e.on(b,"scroll",t)},this.stop=function(){clearInterval(k),e.off(b,"scroll",t)}};b.exports=f},{"./dom":8,"./lodash":10}],19:[function(a,b,c){"use strict";var d=a("./lodash"),e=a("./geometry"),f=a("./rect"),g=a("./dom"),h=a("./config"),i=function(a,b,c){return new f({left:a.left,top:a.bottom+c,width:h.width,height:h.height})},j=function(a){return e.vContains(e.getViewportRect(),a)},k=function(a,b){return d.chain(a).orderBy().groupByPair().map(function(a){return a[1].top-a[0].bottom}).filter(function(a){return b>a}).countBy(Math.floor).map(function(a,b){return{count:a,value:parseInt(b,10)}}).maxBy("count").get("value").value()||null},l=function(a){return g.css(d.head(a).node.parentNode,"line-height",!0)},m=function(a,b){return k(a,b)||l(a,b)},n=function(a,b){return b+=g.getScroll().top,a.sort(function(a,c){return Math.abs(a.bottom-b)-Math.abs(c.bottom-b)}),d.head(a)};b.exports=function(a){this.select=function(b){var c=null;if(b.length>0){var e=m(b,60),f=d.filter(b,function(a){return j(i(a,h,e))});f.length>0&&(c=n(f,a).node)}return c}}},{"./config":6,"./dom":8,"./geometry":9,"./lodash":10,"./rect":17}],20:[function(a,b,c){"use strict";var d=document.createElement("div");d.style.visibility="hidden",d.style.position="absolute",d.style.padding=0,d.style.margin=0,d.style.borderWidth=0,d.style.height="auto",b.exports=function(a){document.body.appendChild(d),a(d),d.innerHTML="",document.removeChild(d)}},{}],21:[function(a,b,c){"use strict";var d=a("./lodash"),e=a("lie"),f={isNear:function(a,b,c){return Math.abs(a-b)<=c},isDistant:function(a,b,c){return Math.abs(a-b)>=c},toArray:function(a){return"undefined"==typeof a||null===a?[]:d.isNumber(a.length)&&a.push?a:[a]},delay:function(a,b){return new e(function(c,d){setTimeout(function(){a(c,d)},b||30)})},repeat:function(a,b,c){var d=setInterval(function(){0>=c?clearInterval(d):a(),c--},b);return function(){clearInterval(d)}}};b.exports=f},{"./lodash":10,lie:3}],22:[function(a,b,c){"use strict";var d=a("./lodash"),e=a("lie"),f=a("./geometry"),g=a("./dom"),h=a("./utils"),i=a("./scroll-speed.js"),j=a("./config"),k=a("./article-parser"),l=a("./target-selector"),m=a("./logger"),n=new i({updateInterval:50,smoothing:5,lessThan:j.speedLessThan,duringTime:j.speedDuringTime}),o=function(a){var b=f.percentageFromViewport(j.yReference,"height"),c=new l(b);return c.select(a)},p=function(a,b){m.info("Initialized. Parsing text nodes");var c,e=[];k.getRects().then(function(a){m.info("Start watching scroll"),c=a.length,e=d.slice(a,j.slice[0],j.slice[1]),n.start()});var f=h.repeat(function(){k.getRects().then(function(a){c=a.length,e=d.slice(a,j.slice[0],j.slice[1])})},2500,3);n.onLowerThreshold(function(){if(c>=j.minParagraph&&e.length>0){var d=o(e);d&&(m.info("Target found",d),f(),n.stop(),a(d))}else b("Number of paragraphs does not reach the expected minimum. Found: "+c+". Minimum expected: "+j.minParagraph),n.stop()})};if(!aepwa.formatReady){for(aepwa.formatReady=new e(function(a,b){aepwa._formatReady.resolved||aepwa._formatReady.rejected?aepwa._formatReady.resolved?a():b(aepwa._formatReady.rejected):(aepwa._formatReady.resolve=a,aepwa._formatReady.reject=b)}),aepwa.target=new e(function(a,b){e.all([g.ready(window),aepwa.formatReady]).then(function(){d.delay(function(){p(a,b)},50)},function(a){b(a)})});aepwa._target.then.length;)aepwa.target.then(aepwa._target.then.pop());for(;aepwa._target["catch"].length;)aepwa.target["catch"](aepwa._target["catch"].pop())}m.info("Loaded")},{"./article-parser":4,"./config":6,"./dom":8,"./geometry":9,"./lodash":10,"./logger":11,"./scroll-speed.js":18,"./target-selector":19,"./utils":21,lie:3
}]},{},[22]);